<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Async-Await-3</title>
		<!-- <style>
			li{
				display:inline-block;
			}
		</style> -->
	</head>
	<body>	
		<h2>Async Await Programs</h2>
		<p id="target"></p>
		<script>
			
			async function fetchData(){
				try{

					let URL = "https://jsonplaceholder.typicode.com/users";
					let response =await fetch(URL);
					let result =await response.json();
					console.log(result);
					showData(result);
					
				}
				catch(error){
					console.log(error);
				}
			}
			fetchData()
			let target = document.getElementById("target")
			

			let showData= (data)=>{
				let table = document.createElement("table");
				table.setAttribute('border', '1px');
				table.setAttribute('cellpadding', '20px');
				for(var i = 0; i< data.length; i++){	
					let tr = document.createElement("tr")
					table.appendChild(tr)
					target.appendChild(table)

					var th = document.createElement("th");
					th.innerHTML = data[i].id;
					tr.appendChild(th);
					
					var th = document.createElement("th");
					th.innerHTML = data[i].name;
					tr.appendChild(th);

					var th = document.createElement("th");
					th.innerHTML = data[i].email;
					tr.appendChild(th);

					var th = document.createElement("th");
					th.innerHTML = data[i].username;
					tr.appendChild(th);

					var th = document.createElement("th");
					th.innerHTML = data[i].phone;
					tr.appendChild(th);

					var th = document.createElement("th");
					th.innerHTML = data[i].website;
					tr.appendChild(th);
				}
			}
			
		</script>
	</body>
</html>